<!-- omit in toc -->

# ディレイアタック

![gif](https://github.com/user-attachments/assets/4dd09f5f-d959-46a2-8a26-b5706de6bd78)

> [!NOTE]
> 本プラグインはウェイトターンシステムの拡張機能です。
> ウェイトターンシステムとの併用を前提としており、単体では動作しません。

<br>

**ディレイアタック**は、特定の武器を装備中に自分から戦闘を仕掛けて攻撃を命中させたとき、  
相手ユニットの WT 値に一定の値が加算されるシステムです。  
これにより、相手ユニットの次のアタックターンを遅らせる(＝**ディレイ**させる)ことができます。

本プラグインを導入することでディレイアタックを実装できます。

<br>

-   [ディレイアタック](#ディレイアタック)
    -   [1. 仕様](#1-仕様)
        -   [1.1. ディレイ武器とディレイタイム](#11-ディレイ武器とディレイタイム)
        -   [1.2. 効果の累積](#12-効果の累積)
    -   [2. 導入手順](#2-導入手順)
        -   [2.1. ファイルを Plugin フォルダ配下に保存する](#21-ファイルを-plugin-フォルダ配下に保存する)
        -   [2.2. スクリプト内の変数の設定](#22-スクリプト内の変数の設定)
        -   [2.3. 武器のカスタムパラメータの設定](#23-武器のカスタムパラメータの設定)

<br>

## 1. 仕様

### 1.1. ディレイ武器とディレイタイム

ディレイアタックは**ディレイ武器**を装備中のときのみ発動します。

ディレイ武器はそれぞれ固有の**ディレイタイム(DT)** という値を持ち、  
以下の条件を満たすことで戦闘終了後に相手ユニットの WT 値にディレイタイム分の値を加算することができます。

-   戦闘を仕掛けたのが自分であること
-   自分の攻撃が相手に命中していること

どの武器がディレイ武器か、ディレイタイムはいくつか、などの情報はアイテム情報ウィンドウで確認できます。

<br>

![image](https://github.com/user-attachments/assets/ecc78535-7e7b-4dcc-a5ee-545d94403f7d)

<br>

### 1.2. 効果の累積

ディレイアタックの効果は攻撃が命中した回数分適用されます。  
例えばディレイタイム 20 の武器の場合、1 回命中すれば 20、2 回なら 40、3 回なら 60 が相手の WT 値に加算されます。

一度の戦闘で加算される WT 値に上限はないので、  
再攻撃や連続攻撃で複数回攻撃を当てれば、そのぶん効果も際限なく累積していきます。

<br>

## 2. 導入手順

### 2.1. ファイルを Plugin フォルダ配下に保存する

DelayAttack.js をプロジェクトの Plugin フォルダ配下に保存してください。

<br>

### 2.2. スクリプト内の変数の設定

DelayAttack.js 内の設定項目を必要に応じて変更してください。

![image](https://github.com/user-attachments/assets/a64e407b-b259-46c3-8e93-51d8d754966e)

<br>

### 2.3. 武器のカスタムパラメータの設定

![image](https://github.com/user-attachments/assets/2be349bc-f384-4298-804f-589c4cb8cab2)

<br>

ディレイ武器にしたい武器のカスタムパラメータに以下を設定します。

```
{
    delayWT: ディレイタイムの値
}
```

例えば、ディレイタイムを 50 に設定したい場合は次のように入力します。

```
{
    delayWT: 50
}
```

<br>

以上で設定は完了となります。

<br>
